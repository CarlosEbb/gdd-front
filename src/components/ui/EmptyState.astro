---
import Icon from './Icon.astro'
import { icons } from '@lucide/astro'

interface Props {
  title?: string
  description?: string
  href?: string
  hrefText?: string
  state?: keyof typeof StateIconColor
  iconColor?: keyof typeof StateIconColor
  action?: keyof typeof IconForAction
  modalId?: string
  hiddenAction?: boolean
}

const {
  title = 'No encontrado',
  description = 'El elemento no existe o no tiene acceso.',
  href = '/home',
  hrefText = 'Volver a la p√°gina de inicio',
  state = 'notFound',
  action = 'back',
  modalId,
  hiddenAction = false,
} = Astro.props

const StateIconColor = {
  info: 'text-yellow-300',
  error: 'text-red-300',
  success: 'text-green-300',
  warning: 'text-orange-300',
  notFound: 'text-neutral-700',
}

const selectedIconForState = {
  info: 'Info',
  error: 'CircleX',
  success: 'CircleX',
  warning: 'TriangleAlert',
  notFound: 'SearchX',
}

const IconForAction = {
  refresh: 'RefreshCcw',
  reload: 'Reload',
  create: 'Plus',
  edit: 'Pencil',
  delete: 'Trash',
  view: 'Eye',
  close: 'X',
  cancel: 'X',
  confirm: 'Check',
  back: 'ArrowLeft',
}

const selectedIcon = selectedIconForState[state] as keyof typeof icons
const iconColorClass = StateIconColor[state]
const iconAction = IconForAction[action] as keyof typeof icons
---

<div class="flex flex-col items-center justify-center py-5">
  <Icon name={selectedIcon} size={56} stroke-width={1.5} class={`mb-3 ${iconColorClass}`} />
  <p class="mb-2 text-lg font-semibold text-gray-900">{title}</p>
  <p class="mb-7 text-center">{description}</p>

  {
    modalId && !hiddenAction ? (
      <button data-open-modal={modalId} class="flex items-center gap-x-2 rounded-lg bg-custom-blue-light/10 px-4 py-2 text-sm text-custom-blue-light hover:text-custom-blue-dark">
        {action === 'back' && <Icon name={iconAction} size={18} stroke-width={1.5} />}
        <span>{hrefText}</span>
        {action !== 'back' && <Icon name={iconAction} size={18} stroke-width={1.5} />}
      </button>
    ) : (
      !hiddenAction && (
        <a href={href} class="flex items-center gap-x-2 rounded-lg bg-custom-blue-light/10 px-4 py-2 text-sm text-custom-blue-light hover:text-custom-blue-dark">
          {action === 'back' && <Icon name={iconAction} size={18} stroke-width={1.5} />}
          <span>{hrefText}</span>
          {action !== 'back' && <Icon name={iconAction} size={18} stroke-width={1.5} />}
        </a>
      )
    )
  }
</div>
